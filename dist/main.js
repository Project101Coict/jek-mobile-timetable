(()=>{"use strict";const e=document.getElementById("tmb");e.style="\n    position: relative;\n    max-height: 95vh;\n    width: 90%; \n    min-height: 470px; \n    display: flex;\n    margin: auto;\n    margin-top: 10px;\n    border-radius: 10px;\n    overflow: hidden;\n    -moz-box-shadow: 0px 0px 1px #ddd;\n    -webkit-box-shadow: 0px 0px 1px #ddd;\n    box-shadow: 0px 0px 5px #ddd;\n    background: white;\n    overflowX: auto;\n    ";const n=e,t=document.getElementById("tmb-main");t.style="\n    position: relative;\n    min-height: 470px; \n    display: flex;\n    flex-direction: column;\n    background: white;\n    flex: 1;\n";const i=t,o=()=>{const e=document.createElement("div");return e.style="\n        flex: 1;\n        background: white;\n        display: flex;\n        flex-direction: column;\n    ",e},l=()=>{const e=document.createElement("div");return e.style="\n        flex: 1;\n        background: white;\n        -moz-box-shadow: inset 0 0 1px #777;\n        -webkit-box-shadow: inset 0 0 1px #777;\n        box-shadow: inset 0 0 1px #777;\n        min-height: 80px;\n        max-height: 80px;\n        position: relative;\n    ",e};class s{constructor(e,n,t,i,o,l){this.url=e,this.name=n,this.latitude=i,this.longitude=t,this.capacity=o,this.college=l}}class d{constructor(e,n,t,i,o,l,d,r){this.url=e,this.roomInfo=new s,this.day=n,this.type=t,this.fromTime=i,this.duration=l,this.room=d,this.course=r,this.toTime=o}}class r{constructor(e,n,t){this.url=e,this.name=n,this.shortForm=t}}class a{constructor(e,n,t,i){this.url=e,this.periods=n,this.name=t,this.code=i}}class c{constructor(e,n,t,i,o,l){this.url=e,this.name=n,this.college=t,this.collegeInfo=i,this.coursesInfo=o,this.courses=l}}new c;const p=document.getElementById("tmb-content"),m=["#FFFF66","#FF69B4","#CF9FFF","#ADD8E6","#FFF8DC"];p.style="\n    background: white;\n    flex: 1;\n    margin-bottom: 5px;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow: auto;\n    position: relative;\n";const h=document.createElement("div"),x=document.createElement("div");h.style="\n    display: flex;\n    position: sticky;\n    padding: 0;\n    top: 0;\n    z-index: 2;\n    margin-bottom: 15px;\n    box-shadow: 0px 3px 10px 0px #eee ;\n",x.style="\n    display: flex;\n    height: 100%;\n    postion: relative;\n";const u=document.createElement("div"),g=document.createElement("div");g.style="\n    flex :1;\n    background: white;\n    display: flex;\n    positinon: relative;\n",u.style="\n    flex :1;\n    background: white;\n    max-width: 50px;\n    display: flex;\n    flex-direction: column;\n",(async()=>{(async()=>{let e=await(await fetch("../../assets/files/faculty.json")).json(),n=new c;n.url=e.url,n.college=e.college,n.courses=e.courses,n.name=e.name;let t=new r;t.name=e.college_info.name,t.shortForm=e.college_info.short_form,t.url=e.college_info.url;let i=[];for(let n of e.courses_info){let e=new a;e.code=n.code,e.name=n.name,e.url=n.url;let t=[];for(let e of n.periods){let n=new d;n.course=e.course,n.day=e.day,n.duration=e.duration,n.fromTime=e.from_time,n.room=e.room,n.type=e.type,n.toTime=e.to_time;let i=new s;i.capacity=e.room_info.capacity,i.college=e.room_info.college,i.latitude=e.room_info.latitude,i.longitude=e.room_info.longitude,i.name=e.room_info.name,i.url=e.room_info.url,n.roomInfo=i,t.push(n)}e.periods=t,i.push(e)}return n.collegeInfo=t,n.coursesInfo=i,console.log(n),n})().then((e=>{const n=[],t=[];let i=0;for(let o of e.coursesInfo){let e={name:o.code,color:m[i]};n.push(e),t.push(o.code),i++}for(let t=0;t<5;t++){let i=o();i.style.position="relative";let s=["Mon","Tue","Wed","Thu","Fri"];const d=l();d.style.minHeight="35px",d.style.width="",d.style.boxShadow="inset 0 0 0 #000",d.innerHTML=`\n        <label style="\n            flex: 1;\n            height: 100%;\n            display: flex;\n            z-index: 2;\n            align-items: center;\n            justify-content: center;\n            font-size: 12px;\n            color: #999;\n        ">${s[t]}</label>\n    `,h.appendChild(d);let r=0;for(let o=-1;o<12;o++){let d=l();for(let d of e.coursesInfo)for(let e of d.periods)if(e.day.slice(0,3)===s[t]&&"Seminar"!==e.type){let t=e.toTime.slice(0,5).replace(":","");t="55"===t.slice(2,4)?Number(t.slice(0,2))+1:Number(t.slice(0,2));let s=Number(e.fromTime.slice(0,5).replace(":","").slice(0,2));if(o+8===s||o+8===t){let o=l();const a=(80*(t-s)).toString(),c=(80*(s-7)).toString();let p="#fff";for(let e of n)d.code===e.name&&(p=e.color);o.innerHTML=`\n                                    <div style="\n                                        flex:1;\n                                        display:flex;\n                                        height: ${a}px;\n                                        width: 100%;\n                                        justify-content: center;\n                                        align-items: center;\n                                    ">\n                                        ${e.type}\n                                        <br>\n                                        ${d.code}\n                                        <br>\n                                        ${s} - ${t}\n                                    </div>\n                                    `,o.style=`\n                                    position: absolute;\n                                    background: ${p};\n                                    flex:1;\n                                    width: 100%;\n                                    box-shadow: 0px 3px 10px 0px #eee ;\n                                    z-index: 1;\n                                    top: ${c}px;\n                                    min-height: ${a}px;\n                                    max-height: ${a}px;\n                                `,i.appendChild(o),r++}}i.appendChild(d)}g.appendChild(i)}const s=l();s.style.minHeight="35px",s.style.maxWidth="50px",s.style.boxShadow="inset 0 0 0 #000",s.innerHTML='\n    <label style="\n        flex: 1;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 12px;\n        color: #999;\n    ">Time</label>\n',h.appendChild(s);for(let e=-1;e<13;e++){const n=l(),t=document.createElement("label");t.innerText=`${8+e}:00`,t.style="\n        margin-left: 10px;\n        margin-top: -10px;\n        position: absolute;\n        font-size: 12px;\n        color: #999;\n    ",n.style.boxShadow="inset 0 0 0",n.appendChild(t),u.appendChild(n)}}))})(),x.appendChild(g),x.appendChild(u),p.appendChild(h),p.appendChild(x);const f=p,y=document.getElementById("tmb-topnav");y.style="\n            width: 100%;\n            background: white;\n            height: auto;\n            position: sticky;\n            dispaly: flex; ",y.appendChild((()=>{const e=document.createElement("nav");e.style="\n        padding: 5px;\n        display: flex;\n        background: whitesmoke;\n        min-height: 5px; \n        align-items: center;\n    ";const n=document.createElement("img");n.src="../assets/icons/menu.png",n.width=30,n.setAttribute("id","menu_icon"),n.style="\n        display: inline;\n        padding: 2px;\n        margin-left: 5px;\n        margin-right: 5px;\n        cursor: pointer;\n    ";const t=document.createElement("img");t.src="../assets/icons/refresh.png",t.width=20,t.style="\n        padding: 2px;\n        margin-left: 5px;\n        margin-right: 5px;\n        cursor: pointer;\n    ";const i=document.createElement("div");i.style="\n        flex: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    ";const o=document.createElement("div");o.style="\n        -moz-box-shadow: inset 0 0 5px #ddd;\n        -webkit-box-shadow: inset 0 0 5px #ddd;\n        box-shadow: inset 0px 1px 1px #ddd;\n        background: white;\n        padding: 5px;\n        overflow: hidden;\n        margin-left: 10px;\n        margin-right: 10px;\n        border-radius: 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    ";const l=document.createElement("input");return l.style="\n        border: 0;\n        border-radius: 10px;\n        padding: 5px;\n    ",l.placeholder="search faculty",o.appendChild(l),o.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(o),e})());const b=y,w=document.getElementById("tmb-sidenav");w.style="\n    width: 150px;\n    margin-right: 0px;\n    z-index: 3;\n    background: whitesmoke;\n    min-height: 100%;\n    overflow: hidden;\n    transition: margin-left 600ms;\n    padding-right: 0px;\n    box-shadow: -3px 1px 5px 0px #777;\n",w.appendChild((()=>{const e=document.createElement("div");e.setAttribute("id","side_logo"),e.style="\n        padding: 10px;\n        border-bottom: 1px solid #eee;\n        background: white;\n        flex: 1;\n    ";const n=document.createElement("h1");n.innerText="Udsm Timetable",n.style="\n        padding: 5px;\n        font-size: 1rem;\n        display: flex;\n        justify-content: center;\n    ";const t=document.createElement("img");return t.src="../assets/icons/Book icon3.png",t.style="\n        width: 100%;\n        cursor: pointer;\n    ",e.appendChild(t),e.appendChild(n),e})()),w.appendChild((()=>{const e=document.createElement("div");return e.setAttribute("id","side_details"),e.style="\n        margin-top: 0px;\n        padding: 3px;\n        flex: 1;\n    ",[{icon:"../../assets/icons/two-rows-layout.png",text:"a Day",id:"a_day"},{icon:"../../assets/icons/columns.png",text:"3 Days",id:"three_day"},{icon:"../../assets/icons/weekly-calendar-outline-event-interface-symbol.png",text:"the Week",id:"a_week"}].forEach((n=>{const t=document.createElement("nav");t.setAttribute("id",n.id),t.style="\n            padding: 10px;\n            border-radius:5px;\n            margin-top: 5px;\n            display: flex;\n            flex: 1;\n            justify-content: space-arround;\n            align-items: center;\n            background: inherit;\n            cursor: pointer;\n        ";let i=document.createElement("img");i.src=n.icon,i.width=20;let o=document.createElement("label");o.innerText=n.text,o.style="\n            margin-left: 10px;\n            color: #777;\n        ",t.appendChild(i),t.appendChild(o),e.appendChild(t)})),e})()),w.appendChild((()=>{const e=document.createElement("div");e.setAttribute("id","side_footer"),e.style="\n        position: absolute;\n        bottom: 0;\n        border-top: 1px solid #ddd;\n        flex: 1; \n    ";let n=document.createElement("img");n.src="../assets/icons/information.png",n.width=25;let t=document.createElement("label");t.innerText="Feedback & Help",t.style="\n        padding-left: 10px;\n        font-size: .8rem;\n    ";const i=document.createElement("nav");return i.style="\n        padding: 10px;\n        display: flex;\n        flex: 1;\n        align-items: center;\n        background: inherit;\n        cursor: pointer;\n    ",i.appendChild(n),i.appendChild(t),e.appendChild(i),e})());const E=w;n.appendChild(E),n.appendChild(i),i.appendChild(b),i.appendChild(f);const v=document.getElementById("side_details").childNodes;function C(){const e=n.getBoundingClientRect().width;e>=740?(console.log(e),i.style.transitionProperty="all",i.style.transition="1s ease",E.style.width="150px",E.style.position="relative",document.getElementById("menu_icon").addEventListener("click",(e=>{"-150px"==E.style.marginLeft?E.style.marginLeft="0px":E.style.marginLeft="-150px"}))):e<740&&e>540?(i.style.transitionProperty="all",i.style.transition="1s ease",E.style.width="100px",E.style.position="relative",v.forEach((e=>{e.style.fontSize="10px"})),document.getElementById("menu_icon").addEventListener("click",(e=>{"-100px"==E.style.marginLeft?E.style.marginLeft="0px":E.style.marginLeft="-100px"}))):e<540&&(i.style.transitionProperty="all",i.style.transition="1s ease",E.style.width="100px",E.style.position="relative",document.getElementById("menu_icon").addEventListener("click",(e=>{"-100px"==E.style.marginLeft?E.style.marginLeft="0px":E.style.marginLeft="-100px"})))}v.forEach((e=>{e.addEventListener("click",(()=>{console.log("clicked"),v.forEach((e=>{e.style.boxShadow="0px 0px 0px 0px #eee",e.style.background="inherit"})),e.style.boxShadow="0px .5px 3px .1px #ccc",e.style.background="white"}))})),C(),window.onresize=()=>{C()}})();